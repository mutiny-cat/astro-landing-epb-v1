<div id="menu-backdrop" class="menu-backdrop"></div>

<style lang="scss">
  @import "../../../css/global";

  .menu-backdrop {
    position: absolute;
    top: var(--top);
    left: var(--left);
    width: var(--width);
    height: var(--height);
    opacity: 0;
    backdrop-filter: blur(2px);
    background: transparent;
    border-bottom: 2px solid lighten($bg-default, 10);
    transition: all .3s ease-in-out;
    z-index: -3;

    @media (width < 1366px) {
      display: none;
    }
  }
</style>

<script>
  const listItem = document.querySelectorAll('#header-landing a')
  const menuBackDrop = document.querySelector('#menu-backdrop') as HTMLElement

  listItem.forEach((item) => {
    item.addEventListener('mouseenter', () => {
      const { left, top, width, height } = item.getBoundingClientRect()
      const { clientHeight, clientWidth} = item

      menuBackDrop.style.setProperty('--left', `${left}px`)
      menuBackDrop.style.setProperty('--top', `${top}px`)
      menuBackDrop.style.setProperty('--width', `${width}px`)
      menuBackDrop.style.setProperty('--height', `${height}px`)
      menuBackDrop.style.opacity = '1'
      menuBackDrop.style.visibility = 'visible'
    })

    item.addEventListener('mouseleave', () => {
      menuBackDrop.style.opacity = '0'
      menuBackDrop.style.visibility = 'hidden'
    })
  })
</script>
